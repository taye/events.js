var events=function(){function k(e,b,f,c){var d,a=h[i.indexOf(e)];if(a&&a.events)if("all"===b)for(b in a.events)a.events.hasOwnProperty(b)&&k(e,b,"all");else{if(a.events[b]){var g=a.events[b].length;if("all"===f){for(d=0;d<g;d++)e[l](j+b,a.events[b][d],c||!1);a.events[b]=null;a.typeCount--}else for(d=0;d<g;d++)if(a.events[b][d]===f){e[l](j+b,a.events[b][d],c||!1);a.events[b].splice(d,1);break}a.events[b]&&0===a.events[b].length&&(a.events[b]=null,a.typeCount--)}a.typeCount||(h.splice(h.indexOf(a),
1),i.splice(i.indexOf(e),1))}}var g="attachEvent"in window&&!("addEventListener"in window),m=!g?"addEventListener":"attachEvent",l=!g?"removeEventListener":"detachEvent",j=g?"on":"",i=[],h=[];"indexOf"in Array.prototype||(Array.prototype.indexOf=function(e,b){var f=this.length>>>0,c=Number(b)||0,c=0>c?Math.ceil(c):Math.floor(c);for(0>c&&(c+=f);c<f;c++)if(c in this&&this[c]===e)return c;return-1});"stopPropagation"in Event.prototype||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0},
Event.prototype.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.cancelBubble=!0});"preventDefault"in Event.prototype||(Event.prototype.preventDefault=function(){this.returnValue=!1});"hasOwnProperty"in Event.prototype||(Event.prototype.hasOwnProperty=Object.prototype.hasOwnProperty);return{add:function(e,b,f,c){var d=h[i.indexOf(e)];d||(d={events:{},typeCount:0},i.push(e),h.push(d));b in d.events||(d.events[b]=[],d.typeCount++);if(-1===d.events[b].indexOf(f))return c=g?e[m](j+
b,function(a){a.immediatePropagationStopped||(a.target=a.srcElement,a.currentTarget=e,a.type.match(/mouse|click/)&&(a.pageX=a.clientX+document.documentElement.scrollLeft,a.pageY=a.clientY+document.documentElement.scrollTop),f(a))},f,c||!1):e[m](b,f,c||!1),d.events[b].push(f),c},remove:k,useAttachEvent:g}}();
